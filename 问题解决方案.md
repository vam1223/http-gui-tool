# HTTP批量请求工具 - Apple M3 Pro启动问题解决方案

## 问题描述
在Apple M3 Pro系统上安装HTTP批量请求工具后，双击应用程序直接报错，无法正常启动。

## 错误信息
```
dyld[14307]: Library not loaded: /opt/homebrew/opt/leptonica/lib/libleptonica.6.dylib
  Referenced from: <B97863B6-C3AE-3487-EF1C-BD409AE21A84> /Applications/HTTP批量请求工具.app/Contents/MacOS/http-gui-tool
  Reason: tried: '/opt/homebrew/opt/leptonica/lib/libleptonica.6.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OS/opt/homebrew/opt/leptonica/lib/libleptonica.6.dylib' (no such file), '/opt/homebrew/opt/leptonica/lib/libleptonica.6.dylib' (no such file)
```

## 问题原因
应用程序在编译时链接了以下动态库依赖：
- `libleptonica.6.dylib` (图像处理库)
- `libtesseract.5.dylib` (OCR文字识别库)

这些库是通过Fyne GUI框架的某个间接依赖引入的，但在目标系统上这些库并未安装，导致应用程序无法启动。

## 解决方案

### 方案1：安装缺失的依赖库（推荐）
使用Homebrew安装缺失的依赖库：

```bash
brew install leptonica tesseract
```

安装完成后，应用程序即可正常启动。

### 方案2：重新编译应用程序（开发者选项）
如果需要创建不依赖外部库的版本，可以尝试静态编译，但由于Fyne需要CGO支持，完全静态编译可能有限制。

## 验证修复
安装依赖库后，可以通过以下方式验证：

1. **命令行测试**：
   ```bash
   "/Applications/HTTP批量请求工具.app/Contents/MacOS/http-gui-tool"
   ```

2. **双击启动**：
   直接在Applications文件夹中双击应用程序图标

3. **检查进程**：
   ```bash
   ps aux | grep http-gui-tool
   ```

## 系统兼容性
- ✅ macOS Sonoma (Apple Silicon)
- ✅ Apple M3 Pro处理器
- ✅ 需要安装Homebrew
- ✅ 需要安装leptonica和tesseract依赖

## 预防措施
为避免类似问题，建议：

1. **开发阶段**：检查并最小化不必要的依赖
2. **分发阶段**：在分发说明中明确列出系统依赖
3. **安装脚本**：创建自动检查和安装依赖的脚本

## 技术详情
- **依赖检查命令**：`otool -L <应用程序路径>`
- **Go模块**：仅直接依赖fyne.io/fyne/v2
- **间接依赖**：通过Fyne框架引入的系统级依赖

## 状态
✅ **已解决** - 2025年10月10日

通过安装leptonica和tesseract依赖库，应用程序已在Apple M3 Pro系统上成功运行。